{"version":3,"sources":["webpack:///./src/assets/floor_plan.png","webpack:///src/components/Map.vue","webpack:///./src/components/Map.vue?78c2","webpack:///./src/components/Map.vue","webpack:///src/App.vue","webpack:///./src/App.vue?1a2e","webpack:///./src/App.vue","webpack:///./src/store/store.js","webpack:///./src/main.js"],"names":["module","exports","__webpack_require__","p","Map_heatmap","Map","mounted","_this","this","heatmap_default","a","create","container","$refs","heatmap","setData","max","data","x","y","value","radius","setInterval","$store","dispatch","computed","dataPoints","console","log","getters","newDataPoints","components_Map","render","_h","$createElement","_c","_self","ref","attrs","id","src","_v","directives","name","rawName","expression","_s","staticRenderFns","App","components","appMap","normalizeComponent","ssrContext","selectortype_template_index_0_src_App","src_App","App_normalizeComponent","Vue","use","Vuex","store","Store","strict","state","nodes","mutations","updateNodes","payload","actions","fetchCurrent","_ref","commit","jQuery","ajax","type","url","contentType","dataType","stringify_default","query","done","current","fail","title","temp","map","node","Math","abs","temperature","random","round","config","productionTip","el","template"],"mappings":"4DAAAA,EAAAC,QAAiBC,EAAAC,EAAuB,iJCYxCC,OAAA,EAEAC,GACAC,QADA,WACA,IAAAC,EAAAC,MACIJ,EAAJK,EAAAC,EAAAC,QACAC,UAAAJ,KAAAK,MAAAC,WAKAC,SACAC,IAAA,EACAC,OAAAC,EAAA,IAAAC,EAAA,IAAAC,MAAA,EAAAC,OAAA,MAAAH,EAAA,IAAAC,EAAA,IAAAC,MAAA,EAAAC,OAAA,QAEAC,YAAA,WACAf,EAAAgB,OAAAC,SAAA,iBACA,MAEAC,UACAC,WADA,WASA,OAPAC,QAAAC,IAAA,MACAxB,GACQA,EAARW,SACAC,IAAA,GACAC,KAAAT,KAAAe,OAAAM,QAAAC,gBAGAtB,KAAAe,OAAAM,QAAAC,iBCpCeC,GADEC,OAFjB,WAA0B,IAAaC,EAAbzB,KAAa0B,eAA0BC,EAAvC3B,KAAuC4B,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,IAAA,UAAAC,OAAqBC,GAAA,SAAYJ,EAAA,OAAYG,OAAOE,IAAMtC,EAAQ,WAAlJM,KAA8KiC,GAAA,KAAAN,EAAA,OAAwBO,aAAaC,KAAA,OAAAC,QAAA,SAAAxB,OAAA,EAAAyB,WAAA,aAAnNrC,KAAqRiC,GAAA,SAArRjC,KAAqRsC,GAArRtC,KAAqRkB,YAAA,aAE9RqB,oBCCjB,ICMAC,GACAL,KAAA,MACAM,YACAC,ODTyBhD,EAAQ,OAcjCiD,CACE9C,EACA0B,GATF,EAVA,SAAAqB,GACElD,EAAQ,SAaV,kBAEA,MAUgC,UEvBjBmD,GADErB,OAFP,WAAgB,IAAaC,EAAbzB,KAAa0B,eAA0BC,EAAvC3B,KAAuC4B,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBG,OAAOC,GAAA,SAAYJ,EAAA,gBAE7FY,oBCChC,IAuBeO,EAvBUpD,EAAQ,OAcjBqD,CACdP,EACAK,GAT6B,EAV/B,SAAoBD,GAClBlD,EAAQ,SAaS,KAEU,MAUG,8DCtBhCsD,IAAIC,IAAIC,KAEO,IAAAC,EAAA,IAAID,IAAKE,OACtBC,QAAQ,EACNC,OACAhD,QAAS,KACPiD,UAEFC,WACAC,YADW,SACCH,EAAOI,GACjBJ,EAAMC,MAAQG,IAGhBC,SACAC,aADS,SAAAC,EACgBH,GAAU,IAApBI,EAAoBD,EAApBC,OAEbC,IACGC,MACCC,KAAM,OACNC,IAAK,WACLC,YAAa,mBACbC,SAAU,OACV3D,KAAM4D,KAPKC,MAAS,2CASrBC,KAAK,SAACb,GACLI,EAAO,cAAeJ,EAAQjD,KAAK+D,WAEpCC,KAAK,WACJtD,QAAQC,IAAI,gBAKZ0C,EAAO,gBAHH/B,GAAI,EAAG2C,MAAO,mBAAoBC,KAAM,GAAIjE,EAAG,IAAKC,EAAG,IAAKC,MAAO,GAAIC,OAAQ,KAC7EkB,GAAI,EAAG2C,MAAO,kBAAmBC,KAAM,GAAIjE,EAAG,IAAKC,EAAG,IAAKC,MAAO,GAAIC,OAAQ,UAM1FQ,SACAC,cAAe,SAACgC,GACd,OAAOA,EAAMC,MAAMqB,IAAI,SAACC,GACtB,OACE9C,GAAI8C,EAAK9C,GACPnB,MAAOkE,KAAKC,IAAIF,EAAKG,YAAc,GAAKC,EAAO,GAC/CvE,EAAa,GAAVmE,EAAK9C,GACRpB,EAAa,GAAVkE,EAAK9C,GACRlB,OAAQoE,EAAO,KACfP,MAAOG,EAAKH,aAOxB,SAASO,EAAOzE,GACd,OAAOsE,KAAKI,MAAMJ,KAAKG,SAAWzE,GCpDpCwC,IAAImC,OAAOC,eAAgB,EAG3B,IAAIpC,KACFG,QACAkC,GAAI,OACJ5C,YAAcD,OACd8C,SAAU","file":"assets/javascripts/app.js","sourcesContent":["module.exports = __webpack_public_path__ + \"assets/floor_plan.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/floor_plan.png\n// module id = K2Ky\n// module chunks = 1","<template>\n  <div id='map' ref=\"heatmap\">\n    <img src=\"@/assets/floor_plan.png\">\n    <div v-show=\"1 == 1\">\n      {{ dataPoints }}\n    </div>\n  </div>\n</template>\n\n<script>\n import h337 from 'heatmap.js';\n\n let heatmap\n\n export default {\n   mounted() {\n     heatmap = h337.create({\n       container: this.$refs.heatmap\n       /* , maxOpacity: 0.85\n        * , minOpacity: 0.25*/\n     })\n\n     heatmap.setData({\n       max: 5,\n       data: [{x:200, y:150, value: 3, radius: 200}, {x:210, y:200, value: 3, radius: 150}]\n     })\n     setInterval(() => {\n       this.$store.dispatch('fetchCurrent')\n     }, 4000)\n   }\n   , computed: {\n     dataPoints() {\n       console.log('jo')\n       if (heatmap) {\n         heatmap.setData({\n           max: 35,\n           data: this.$store.getters.newDataPoints\n         })\n       }\n       return this.$store.getters.newDataPoints\n     }\n   }\n }\n</script>\n\n<style scoped>\n #map {\n   padding: 20px;\n   width: 100%;\n   height: 100%;\n }\n\n #map img {\n   width: 100%;\n }\n \n</style>\n\n\n\n\n// WEBPACK FOOTER //\n// src/components/Map.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"heatmap\",attrs:{\"id\":\"map\"}},[_c('img',{attrs:{\"src\":require(\"@/assets/floor_plan.png\")}}),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(1 == 1),expression:\"1 == 1\"}]},[_vm._v(\"\\n    \"+_vm._s(_vm.dataPoints)+\"\\n  \")])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-01be6230\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Map.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-01be6230\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Map.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Map.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Map.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-01be6230\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Map.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-01be6230\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Map.vue\n// module id = null\n// module chunks = ","<template>\n  <div id=\"app\">\n    <app-map></app-map>\n  </div>\n</template>\n\n<script>\nimport Map from './components/Map'\n\nexport default {\n  name: 'App',\n  components: {\n    appMap: Map\n  }\n}\n</script>\n\n<style>\n#app {\n  height: 100vh;\n  width: 100vw;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('app-map')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-6270999f\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-6270999f\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-6270999f\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","import Vue from 'vue'\nimport Vuex from 'vuex'\nimport jQuery from 'jquery'\n\nVue.use(Vuex)\n\nexport default new Vuex.Store({\n  strict: true\n  , state: {\n    heatmap: null\n    , nodes: []\n  }\n  , mutations: {\n    updateNodes(state, payload) {\n      state.nodes = payload\n    }\n  }\n  , actions: {\n    fetchCurrent({ commit }, payload ) {\n      const data = { \"query\": \"{ current { id title temperature } }\" }\n      jQuery\n        .ajax({\n          type: 'POST',\n          url: '/graphql',\n          contentType: 'application/json',\n          dataType: 'json',\n          data: JSON.stringify(data)\n        })\n        .done((payload) => {\n          commit('updateNodes', payload.data.current)\n        })\n        .fail(() => {\n          console.log('fetch failed')\n          const data = [\n            { id: 1, title: 'Receptionst desk', temp: 25, x: 200, y: 150, value: 15, radius: 50 }\n            , { id: 2, title: 'Raccoons corner', temp: 27, x: 240, y: 250, value: 35, radius: 40 }\n          ]\n          commit('updateNodes', data)\n        })\n    }\n  }\n  , getters: {\n    newDataPoints: (state) => {\n      return state.nodes.map((node) => {\n        return {\n          id: node.id\n          , value: Math.abs(node.temperature + 1) * random(4)\n          , x: node.id * 60\n          , y: node.id * 70\n          , radius: random(200)\n          , title: node.title\n        }\n      })\n    }\n  }\n})\n\nfunction random(max) {\n  return Math.round(Math.random() * max)\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/store.js","// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\nimport Vue from 'vue'\nimport App from './App'\nimport store from './store/store'\n\nVue.config.productionTip = false\n\n/* eslint-disable no-new */\nnew Vue({\n  store,\n  el: '#app',\n  components: { App },\n  template: '<App/>'\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js"],"sourceRoot":""}